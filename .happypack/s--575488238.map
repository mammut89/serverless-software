{"version":3,"sources":["node_modules/history/lib/createHistory.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_warning","require","_warning2","_deepEqual","_deepEqual2","_PathUtils","_AsyncUtils","_Actions","_createLocation2","_createLocation3","_runTransitionHook","_runTransitionHook2","_deprecate","_deprecate2","createRandomKey","Math","random","toString","substr","locationsAreEqual","a","b","pathname","search","state","DefaultKeyLength","createHistory","options","undefined","getCurrentLocation","finishTransition","saveState","go","getUserConfirmation","keyLength","transitionHooks","listenBefore","hook","push","filter","item","allKeys","changeListeners","location","getCurrent","pendingLocation","action","POP","indexOf","updateLocation","newLocation","current","PUSH","concat","slice","REPLACE","forEach","listener","listen","_location","confirmTransitionTo","callback","loopAsync","index","next","done","result","message","ok","transitionTo","nextLocation","prevPath","createPath","nextPath","prevIndex","nextIndex","createLocation","createKey","replace","goBack","goForward","hash","createHref","process","env","NODE_ENV","parsePath","setState","updateLocationState","registerTransitionHook","unregisterTransitionHook","pushState","path","replaceState","module"],"mappings":"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","file":"createHistory.js","sourceRoot":"/Users/mo/serverless-software","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _deepEqual = require('deep-equal');\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createLocation2 = require('./createLocation');\n\nvar _createLocation3 = _interopRequireDefault(_createLocation2);\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction createRandomKey(length) {\n  return Math.random().toString(36).substr(2, length);\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search &&\n  //a.action === b.action && // Different action !== location change.\n  a.key === b.key && _deepEqual2['default'](a.state, b.state);\n}\n\nvar DefaultKeyLength = 6;\n\nfunction createHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var getCurrentLocation = options.getCurrentLocation;\n  var finishTransition = options.finishTransition;\n  var saveState = options.saveState;\n  var go = options.go;\n  var getUserConfirmation = options.getUserConfirmation;\n  var keyLength = options.keyLength;\n\n  if (typeof keyLength !== 'number') keyLength = DefaultKeyLength;\n\n  var transitionHooks = [];\n\n  function listenBefore(hook) {\n    transitionHooks.push(hook);\n\n    return function () {\n      transitionHooks = transitionHooks.filter(function (item) {\n        return item !== hook;\n      });\n    };\n  }\n\n  var allKeys = [];\n  var changeListeners = [];\n  var location = undefined;\n\n  function getCurrent() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) {\n      return allKeys.indexOf(pendingLocation.key);\n    } else if (location) {\n      return allKeys.indexOf(location.key);\n    } else {\n      return -1;\n    }\n  }\n\n  function updateLocation(newLocation) {\n    var current = getCurrent();\n\n    location = newLocation;\n\n    if (location.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, current + 1), [location.key]);\n    } else if (location.action === _Actions.REPLACE) {\n      allKeys[current] = location.key;\n    }\n\n    changeListeners.forEach(function (listener) {\n      listener(location);\n    });\n  }\n\n  function listen(listener) {\n    changeListeners.push(listener);\n\n    if (location) {\n      listener(location);\n    } else {\n      var _location = getCurrentLocation();\n      allKeys = [_location.key];\n      updateLocation(_location);\n    }\n\n    return function () {\n      changeListeners = changeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function confirmTransitionTo(location, callback) {\n    _AsyncUtils.loopAsync(transitionHooks.length, function (index, next, done) {\n      _runTransitionHook2['default'](transitionHooks[index], location, function (result) {\n        if (result != null) {\n          done(result);\n        } else {\n          next();\n        }\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  }\n\n  var pendingLocation = undefined;\n\n  function transitionTo(nextLocation) {\n    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted.\n\n      if (ok) {\n        // treat PUSH to current path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = createPath(location);\n          var nextPath = createPath(nextLocation);\n\n          if (nextPath === prevPath && _deepEqual2['default'](location.state, nextLocation.state)) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);\n      } else if (location && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(location.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.\n      }\n    });\n  }\n\n  function push(location) {\n    transitionTo(createLocation(location, _Actions.PUSH, createKey()));\n  }\n\n  function replace(location) {\n    transitionTo(createLocation(location, _Actions.REPLACE, createKey()));\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function createKey() {\n    return createRandomKey(keyLength);\n  }\n\n  function createPath(location) {\n    if (location == null || typeof location === 'string') return location;\n\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n\n    var result = pathname;\n\n    if (search) result += search;\n\n    if (hash) result += hash;\n\n    return result;\n  }\n\n  function createHref(location) {\n    return createPath(location);\n  }\n\n  function createLocation(location, action) {\n    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];\n\n    if (typeof action === 'object') {\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'The state (2nd) argument to history.createLocation is deprecated; use a ' + 'location descriptor instead') : undefined;\n\n      if (typeof location === 'string') location = _PathUtils.parsePath(location);\n\n      location = _extends({}, location, { state: action });\n\n      action = key;\n      key = arguments[3] || createKey();\n    }\n\n    return _createLocation3['default'](location, action, key);\n  }\n\n  // deprecated\n  function setState(state) {\n    if (location) {\n      updateLocationState(location, state);\n      updateLocation(location);\n    } else {\n      updateLocationState(getCurrentLocation(), state);\n    }\n  }\n\n  function updateLocationState(location, state) {\n    location.state = _extends({}, location.state, state);\n    saveState(location.key, location.state);\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    transitionHooks = transitionHooks.filter(function (item) {\n      return item !== hook;\n    });\n  }\n\n  // deprecated\n  function pushState(state, path) {\n    if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n    push(_extends({ state: state }, path));\n  }\n\n  // deprecated\n  function replaceState(state, path) {\n    if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n    replace(_extends({ state: state }, path));\n  }\n\n  return {\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: createPath,\n    createHref: createHref,\n    createLocation: createLocation,\n\n    setState: _deprecate2['default'](setState, 'setState is deprecated; use location.key to save state instead'),\n    registerTransitionHook: _deprecate2['default'](registerTransitionHook, 'registerTransitionHook is deprecated; use listenBefore instead'),\n    unregisterTransitionHook: _deprecate2['default'](unregisterTransitionHook, 'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead'),\n    pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n    replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n  };\n}\n\nexports['default'] = createHistory;\nmodule.exports = exports['default'];"]}