{"version":3,"sources":["node_modules/react-router/lib/matchRoutes.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_typeof","Symbol","iterator","obj","constructor","default","matchRoutes","_AsyncUtils","require","_makeStateWithLocation","_makeStateWithLocation2","_interopRequireDefault","_PatternUtils","_routerWarning","_routerWarning2","_RouteUtils","getChildRoutes","route","location","paramNames","paramValues","callback","childRoutes","sync","result","partialNextState","params","createParams","partialNextStateWithLocation","error","createRoutes","getIndexRoute","indexRoute","pathless","filter","childRoute","path","loopAsync","index","next","done","routes","concat","Array","isArray","err","assignParams","reduce","paramName","paramValue","push","matchRouteDeep","remainingPathname","pattern","charAt","pathname","matched","matchPattern","_ret2","match","_match$routes","process","env","NODE_ENV","every","apply","v","onChildRoutes","unshift","undefined","module"],"mappings":"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","file":"matchRoutes.js","sourceRoot":"/Users/mo/serverless-software","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nexports.default = matchRoutes;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _makeStateWithLocation = require('./makeStateWithLocation');\n\nvar _makeStateWithLocation2 = _interopRequireDefault(_makeStateWithLocation);\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _RouteUtils = require('./RouteUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getChildRoutes(route, location, paramNames, paramValues, callback) {\n  if (route.childRoutes) {\n    return [null, route.childRoutes];\n  }\n  if (!route.getChildRoutes) {\n    return [];\n  }\n\n  var sync = true,\n      result = void 0;\n\n  var partialNextState = {\n    location: location,\n    params: createParams(paramNames, paramValues)\n  };\n\n  var partialNextStateWithLocation = (0, _makeStateWithLocation2.default)(partialNextState, location);\n\n  route.getChildRoutes(partialNextStateWithLocation, function (error, childRoutes) {\n    childRoutes = !error && (0, _RouteUtils.createRoutes)(childRoutes);\n    if (sync) {\n      result = [error, childRoutes];\n      return;\n    }\n\n    callback(error, childRoutes);\n  });\n\n  sync = false;\n  return result; // Might be undefined.\n}\n\nfunction getIndexRoute(route, location, paramNames, paramValues, callback) {\n  if (route.indexRoute) {\n    callback(null, route.indexRoute);\n  } else if (route.getIndexRoute) {\n    var partialNextState = {\n      location: location,\n      params: createParams(paramNames, paramValues)\n    };\n\n    var partialNextStateWithLocation = (0, _makeStateWithLocation2.default)(partialNextState, location);\n\n    route.getIndexRoute(partialNextStateWithLocation, function (error, indexRoute) {\n      callback(error, !error && (0, _RouteUtils.createRoutes)(indexRoute)[0]);\n    });\n  } else if (route.childRoutes) {\n    (function () {\n      var pathless = route.childRoutes.filter(function (childRoute) {\n        return !childRoute.path;\n      });\n\n      (0, _AsyncUtils.loopAsync)(pathless.length, function (index, next, done) {\n        getIndexRoute(pathless[index], location, paramNames, paramValues, function (error, indexRoute) {\n          if (error || indexRoute) {\n            var routes = [pathless[index]].concat(Array.isArray(indexRoute) ? indexRoute : [indexRoute]);\n            done(error, routes);\n          } else {\n            next();\n          }\n        });\n      }, function (err, routes) {\n        callback(null, routes);\n      });\n    })();\n  } else {\n    callback();\n  }\n}\n\nfunction assignParams(params, paramNames, paramValues) {\n  return paramNames.reduce(function (params, paramName, index) {\n    var paramValue = paramValues && paramValues[index];\n\n    if (Array.isArray(params[paramName])) {\n      params[paramName].push(paramValue);\n    } else if (paramName in params) {\n      params[paramName] = [params[paramName], paramValue];\n    } else {\n      params[paramName] = paramValue;\n    }\n\n    return params;\n  }, params);\n}\n\nfunction createParams(paramNames, paramValues) {\n  return assignParams({}, paramNames, paramValues);\n}\n\nfunction matchRouteDeep(route, location, remainingPathname, paramNames, paramValues, callback) {\n  var pattern = route.path || '';\n\n  if (pattern.charAt(0) === '/') {\n    remainingPathname = location.pathname;\n    paramNames = [];\n    paramValues = [];\n  }\n\n  // Only try to match the path if the route actually has a pattern, and if\n  // we're not just searching for potential nested absolute paths.\n  if (remainingPathname !== null && pattern) {\n    try {\n      var matched = (0, _PatternUtils.matchPattern)(pattern, remainingPathname);\n      if (matched) {\n        remainingPathname = matched.remainingPathname;\n        paramNames = [].concat(paramNames, matched.paramNames);\n        paramValues = [].concat(paramValues, matched.paramValues);\n      } else {\n        remainingPathname = null;\n      }\n    } catch (error) {\n      callback(error);\n    }\n\n    // By assumption, pattern is non-empty here, which is the prerequisite for\n    // actually terminating a match.\n    if (remainingPathname === '') {\n      var _ret2 = function () {\n        var match = {\n          routes: [route],\n          params: createParams(paramNames, paramValues)\n        };\n\n        getIndexRoute(route, location, paramNames, paramValues, function (error, indexRoute) {\n          if (error) {\n            callback(error);\n          } else {\n            if (Array.isArray(indexRoute)) {\n              var _match$routes;\n\n              process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(indexRoute.every(function (route) {\n                return !route.path;\n              }), 'Index routes should not have paths') : void 0;\n              (_match$routes = match.routes).push.apply(_match$routes, indexRoute);\n            } else if (indexRoute) {\n              process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(!indexRoute.path, 'Index routes should not have paths') : void 0;\n              match.routes.push(indexRoute);\n            }\n\n            callback(null, match);\n          }\n        });\n\n        return {\n          v: void 0\n        };\n      }();\n\n      if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n    }\n  }\n\n  if (remainingPathname != null || route.childRoutes) {\n    // Either a) this route matched at least some of the path or b)\n    // we don't have to load this route's children asynchronously. In\n    // either case continue checking for matches in the subtree.\n    var onChildRoutes = function onChildRoutes(error, childRoutes) {\n      if (error) {\n        callback(error);\n      } else if (childRoutes) {\n        // Check the child routes to see if any of them match.\n        matchRoutes(childRoutes, location, function (error, match) {\n          if (error) {\n            callback(error);\n          } else if (match) {\n            // A child route matched! Augment the match and pass it up the stack.\n            match.routes.unshift(route);\n            callback(null, match);\n          } else {\n            callback();\n          }\n        }, remainingPathname, paramNames, paramValues);\n      } else {\n        callback();\n      }\n    };\n\n    var result = getChildRoutes(route, location, paramNames, paramValues, onChildRoutes);\n    if (result) {\n      onChildRoutes.apply(undefined, result);\n    }\n  } else {\n    callback();\n  }\n}\n\n/**\n * Asynchronously matches the given location to a set of routes and calls\n * callback(error, state) when finished. The state object will have the\n * following properties:\n *\n * - routes       An array of routes that matched, in hierarchical order\n * - params       An object of URL parameters\n *\n * Note: This operation may finish synchronously if no routes have an\n * asynchronous getChildRoutes method.\n */\nfunction matchRoutes(routes, location, callback, remainingPathname) {\n  var paramNames = arguments.length <= 4 || arguments[4] === undefined ? [] : arguments[4];\n  var paramValues = arguments.length <= 5 || arguments[5] === undefined ? [] : arguments[5];\n\n  if (remainingPathname === undefined) {\n    // TODO: This is a little bit ugly, but it works around a quirk in history\n    // that strips the leading slash from pathnames when using basenames with\n    // trailing slashes.\n    if (location.pathname.charAt(0) !== '/') {\n      location = _extends({}, location, {\n        pathname: '/' + location.pathname\n      });\n    }\n    remainingPathname = location.pathname;\n  }\n\n  (0, _AsyncUtils.loopAsync)(routes.length, function (index, next, done) {\n    matchRouteDeep(routes[index], location, remainingPathname, paramNames, paramValues, function (error, match) {\n      if (error || match) {\n        done(error, match);\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\nmodule.exports = exports['default'];"]}