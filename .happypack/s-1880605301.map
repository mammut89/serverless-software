{"version":3,"sources":["node_modules/history/lib/useBasename.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_warning","require","_warning2","_ExecutionEnvironment","_PathUtils","_runTransitionHook","_runTransitionHook2","_deprecate","_deprecate2","useBasename","createHistory","options","undefined","history","basename","checkedBaseHref","checkBaseHref","canUseDOM","base","document","getElementsByTagName","baseHref","getAttribute","process","env","NODE_ENV","addBasename","location","pathname","indexOf","substring","prependBasename","parsePath","pname","normalizedBasename","slice","normalizedPathname","charAt","listenBefore","hook","callback","listen","listener","push","replace","createPath","createHref","createLocation","_len","args","Array","_key","apply","concat","pushState","state","path","replaceState","module"],"mappings":"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","file":"useBasename.js","sourceRoot":"/Users/mo/serverless-software","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var history = createHistory(options);\n\n    var basename = options.basename;\n\n    var checkedBaseHref = false;\n\n    function checkBaseHref() {\n      if (checkedBaseHref) {\n        return;\n      }\n\n      // Automatically use the value of <base href> in HTML\n      // documents as basename if it's not explicitly given.\n      if (basename == null && _ExecutionEnvironment.canUseDOM) {\n        var base = document.getElementsByTagName('base')[0];\n        var baseHref = base && base.getAttribute('href');\n\n        if (baseHref != null) {\n          basename = baseHref;\n\n          process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Automatically setting basename using <base href> is deprecated and will ' + 'be removed in the next major release. The semantics of <base href> are ' + 'subtly different from basename. Please pass the basename explicitly in ' + 'the options to createHistory') : undefined;\n        }\n      }\n\n      checkedBaseHref = true;\n    }\n\n    function addBasename(location) {\n      checkBaseHref();\n\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    }\n\n    function prependBasename(location) {\n      checkBaseHref();\n\n      if (!basename) return location;\n\n      if (typeof location === 'string') location = _PathUtils.parsePath(location);\n\n      var pname = location.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n\n      return _extends({}, location, {\n        pathname: pathname\n      });\n    }\n\n    // Override all read methods with basename-aware versions.\n    function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        _runTransitionHook2['default'](hook, addBasename(location), callback);\n      });\n    }\n\n    function listen(listener) {\n      return history.listen(function (location) {\n        listener(addBasename(location));\n      });\n    }\n\n    // Override all write methods with basename-aware versions.\n    function push(location) {\n      history.push(prependBasename(location));\n    }\n\n    function replace(location) {\n      history.replace(prependBasename(location));\n    }\n\n    function createPath(location) {\n      return history.createPath(prependBasename(location));\n    }\n\n    function createHref(location) {\n      return history.createHref(prependBasename(location));\n    }\n\n    function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));\n    }\n\n    // deprecated\n    function pushState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n      push(_extends({ state: state }, path));\n    }\n\n    // deprecated\n    function replaceState(state, path) {\n      if (typeof path === 'string') path = _PathUtils.parsePath(path);\n\n      replace(_extends({ state: state }, path));\n    }\n\n    return _extends({}, history, {\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation,\n\n      pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n      replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n    });\n  };\n}\n\nexports['default'] = useBasename;\nmodule.exports = exports['default'];"]}