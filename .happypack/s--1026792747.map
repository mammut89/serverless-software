{"version":3,"sources":["node_modules/history/lib/createMemoryHistory.js"],"names":["exports","__esModule","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_interopRequireDefault","obj","_warning","require","_warning2","_invariant","_invariant2","_PathUtils","_Actions","_createHistory","_createHistory2","createStateStorage","entries","filter","entry","state","reduce","memo","createMemoryHistory","options","undefined","Array","isArray","history","getCurrentLocation","finishTransition","saveState","go","_options","current","map","createKey","pathname","process","env","NODE_ENV","storage","readState","basename","search","path","location","parsePath","createLocation","canGo","n","index","currentLocation","transitionTo","action","POP","PUSH","splice","push","REPLACE","module"],"mappings":"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","file":"createMemoryHistory.js","sourceRoot":"/Users/mo/serverless-software","sourcesContent":["'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n}\n\nfunction createMemoryHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  if (Array.isArray(options)) {\n    options = { entries: options };\n  } else if (typeof options === 'string') {\n    options = { entries: [options] };\n  }\n\n  var history = _createHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: saveState,\n    go: go\n  }));\n\n  var _options = options;\n  var entries = _options.entries;\n  var current = _options.current;\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    var key = history.createKey();\n\n    if (typeof entry === 'string') return { pathname: entry, key: key };\n\n    if (typeof entry === 'object' && entry) return _extends({}, entry, { key: key });\n\n    !false ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Unable to create history entry from %s', entry) : _invariant2['default'](false) : undefined;\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : _invariant2['default'](false) : undefined;\n  }\n\n  var storage = createStateStorage(entries);\n\n  function saveState(key, state) {\n    storage[key] = state;\n  }\n\n  function readState(key) {\n    return storage[key];\n  }\n\n  function getCurrentLocation() {\n    var entry = entries[current];\n    var basename = entry.basename;\n    var pathname = entry.pathname;\n    var search = entry.search;\n\n    var path = (basename || '') + pathname + (search || '');\n\n    var key = undefined,\n        state = undefined;\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    } else {\n      key = history.createKey();\n      state = null;\n      entry.key = key;\n    }\n\n    var location = _PathUtils.parsePath(path);\n\n    return history.createLocation(_extends({}, location, { state: state }), undefined, key);\n  }\n\n  function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  }\n\n  function go(n) {\n    if (n) {\n      if (!canGo(n)) {\n        process.env.NODE_ENV !== 'production' ? _warning2['default'](false, 'Cannot go(%s) there is not enough history', n) : undefined;\n        return;\n      }\n\n      current += n;\n\n      var currentLocation = getCurrentLocation();\n\n      // change action to POP\n      history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));\n    }\n  }\n\n  function finishTransition(location) {\n    switch (location.action) {\n      case _Actions.PUSH:\n        current += 1;\n\n        // if we are not on the top of stack\n        // remove rest and push new\n        if (current < entries.length) entries.splice(current);\n\n        entries.push(location);\n        saveState(location.key, location.state);\n        break;\n      case _Actions.REPLACE:\n        entries[current] = location;\n        saveState(location.key, location.state);\n        break;\n    }\n  }\n\n  return history;\n}\n\nexports['default'] = createMemoryHistory;\nmodule.exports = exports['default'];"]}